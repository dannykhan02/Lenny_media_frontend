import{j as e,X as E,d as W,u as Fe,b as ke,r as l,C as se}from"./index-Cx_oq0n8.js";import{A as Oe,F as Te}from"./AdminNavbar-Czl-MULG.js";import{S as re}from"./sparkles-9-Ww4Tsn.js";import{P as Y,a as le,T as U}from"./trash-2-BR9B9Nv0.js";import{C as ae,S as G}from"./search-BnyDWve6.js";import{C as K}from"./circle-alert-BnMkY9MU.js";import{V as ne}from"./video-CyrBBRtx.js";import{S as oe}from"./star-Ht32K2e0.js";import{a as V,E as q}from"./eye-DUdhcmSP.js";import"./calendar-BQdKMGbs.js";import"./clock-CwQ-6wN3.js";import"./circle-check-big-CjVXbCXH.js";import"./users-Cq4-76LU.js";import"./briefcase-uZ0I0Dvl.js";import"./chevron-left-t5kqjrr9.js";import"./chevron-right-DYXeV4bW.js";import"./chevron-down-B8Jd8T6i.js";const Ae=({isDarkMode:t,modalMode:S,currentService:P,formData:n,categories:y,isSubmitting:N,onInputChange:o,onFeatureChange:L,onAddFeature:b,onRemoveFeature:u,onSubmit:_,onClose:x})=>e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-2xl shadow-2xl ${t?"bg-stone-900":"bg-white"}`,children:[e.jsxs("div",{className:`sticky top-0 z-10 flex items-center justify-between p-6 border-b ${t?"bg-stone-900 border-stone-800":"bg-white border-gray-200"}`,children:[e.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-stone-900"}`,children:S==="create"?"Create New Service":"Edit Service"}),e.jsx("button",{onClick:x,className:`p-2 rounded-lg transition-colors ${t?"hover:bg-stone-800":"hover:bg-gray-100"}`,children:e.jsx(E,{className:`h-6 w-6 ${t?"text-stone-400":"text-stone-600"}`})})]}),e.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${t?"text-stone-300":"text-stone-700"}`,children:"Category *"}),e.jsx("select",{name:"category",value:n.category,onChange:o,className:`w-full px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,required:!0,children:y.map(h=>e.jsx("option",{value:h.name,children:h.name},h.name))})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"is_active",checked:n.is_active,onChange:o,className:"w-5 h-5 text-gold-500 rounded focus:ring-2 focus:ring-gold-500"}),e.jsx("span",{className:`text-sm font-medium ${t?"text-stone-300":"text-stone-700"}`,children:"Active"})]})}),e.jsx("div",{className:"flex items-end",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"is_featured",checked:n.is_featured,onChange:o,className:"w-5 h-5 text-gold-500 rounded focus:ring-2 focus:ring-gold-500"}),e.jsx("span",{className:`text-sm font-medium ${t?"text-stone-300":"text-stone-700"}`,children:"Featured"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${t?"text-stone-300":"text-stone-700"}`,children:"Service Title *"}),e.jsx("input",{type:"text",name:"title",value:n.title,onChange:o,className:`w-full px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,placeholder:"e.g., Wedding Photography",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${t?"text-stone-300":"text-stone-700"}`,children:"URL Slug *"}),e.jsx("input",{type:"text",name:"slug",value:n.slug,onChange:o,className:`w-full px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,placeholder:"wedding-photography",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${t?"text-stone-300":"text-stone-700"}`,children:"Description"}),e.jsx("textarea",{name:"description",value:n.description,onChange:o,rows:3,className:`w-full px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,placeholder:"Describe the service..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${t?"text-stone-300":"text-stone-700"}`,children:"Min Price (KSh)"}),e.jsx("input",{type:"number",name:"price_min",value:n.price_min,onChange:o,className:`w-full px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,placeholder:"5000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${t?"text-stone-300":"text-stone-700"}`,children:"Max Price (KSh)"}),e.jsx("input",{type:"number",name:"price_max",value:n.price_max,onChange:o,className:`w-full px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,placeholder:"15000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${t?"text-stone-300":"text-stone-700"}`,children:"Display Order"}),e.jsx("input",{type:"number",name:"display_order",value:n.display_order,onChange:o,className:`w-full px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,placeholder:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${t?"text-stone-300":"text-stone-700"}`,children:"Price Display Text"}),e.jsx("input",{type:"text",name:"price_display",value:n.price_display,onChange:o,className:`w-full px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,placeholder:"Ksh 5,000 - 15,000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${t?"text-stone-300":"text-stone-700"}`,children:"Icon Name (optional)"}),e.jsx("input",{type:"text",name:"icon_name",value:n.icon_name,onChange:o,className:`w-full px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,placeholder:"camera, video, etc."})]}),e.jsxs("div",{className:`rounded-xl border-2 p-5 ${t?"bg-stone-800/50 border-gold-500/30":"bg-gold-50/50 border-gold-500/30"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:`h-5 w-5 ${t?"text-gold-400":"text-gold-600"}`}),e.jsx("label",{className:`text-base font-bold ${t?"text-white":"text-stone-900"}`,children:"Service Features"})]}),e.jsxs("button",{type:"button",onClick:b,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg font-semibold text-sm transition-all ${t?"bg-gold-500/20 text-gold-400 hover:bg-gold-500/30 border border-gold-500/40":"bg-gold-500 text-stone-900 hover:bg-gold-400 shadow-sm"}`,children:[e.jsx(Y,{className:"h-4 w-4"}),"Add Feature"]})]}),n.features.length===0?e.jsxs("div",{className:`text-center py-8 rounded-lg border-2 border-dashed ${t?"border-stone-700 text-stone-500":"border-gray-300 text-gray-500"}`,children:[e.jsx(re,{className:`h-8 w-8 mx-auto mb-2 opacity-50 ${t?"text-stone-600":"text-gray-400"}`}),e.jsx("p",{className:"text-sm font-medium",children:"No features added yet"}),e.jsx("p",{className:"text-xs mt-1",children:'Click "Add Feature" to get started'})]}):e.jsx("div",{className:"space-y-3",children:n.features.map((h,i)=>e.jsxs("div",{className:`flex gap-3 items-start p-3 rounded-lg transition-all ${t?"bg-stone-900/50 hover:bg-stone-900":"bg-white hover:shadow-md"}`,children:[e.jsx("div",{className:`flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center font-bold text-xs mt-0.5 ${t?"bg-gold-500/20 text-gold-400":"bg-gold-500 text-stone-900"}`,children:i+1}),e.jsx("input",{type:"text",value:h,onChange:m=>L(i,m.target.value),className:`flex-1 px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white placeholder-stone-500":"bg-white border-gray-300 text-stone-900 placeholder-gray-400"} focus:ring-2 focus:ring-gold-500 focus:border-transparent`,placeholder:`Feature ${i+1}: e.g., High-resolution photos, Professional editing...`}),n.features.length>1&&e.jsx("button",{type:"button",onClick:()=>u(i),className:`flex-shrink-0 p-2.5 rounded-lg transition-all ${t?"bg-red-900/30 text-red-400 hover:bg-red-900/50 border border-red-500/30":"bg-red-50 text-red-600 hover:bg-red-100 border border-red-200"}`,title:"Remove feature",children:e.jsx(E,{className:"h-5 w-5"})})]},i))}),n.features.length>0&&e.jsxs("div",{className:`mt-3 text-xs ${t?"text-stone-500":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:n.features.length})," feature",n.features.length!==1?"s":""," added"]})]}),e.jsxs("div",{className:`flex gap-3 pt-6 border-t ${t?"border-stone-800":"border-gray-200"}`,children:[e.jsx("button",{type:"button",onClick:x,disabled:N,className:`flex-1 px-6 py-3 rounded-lg font-bold transition-colors ${t?"bg-stone-800 text-white hover:bg-stone-700":"bg-gray-100 text-stone-900 hover:bg-gray-200"} disabled:opacity-50`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:N,className:"flex-1 px-6 py-3 bg-gold-500 text-stone-900 rounded-lg font-bold hover:bg-gold-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:N?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"h-5 w-5 animate-spin"}),"Saving..."]}):e.jsx(e.Fragment,{children:S==="create"?"Create Service":"Update Service"})})]})]})]})}),p="http://localhost:5000",Qe=()=>{const{isDarkMode:t}=Fe(),S=ke(),[P,n]=l.useState(null),[y,N]=l.useState([]),[o,L]=l.useState([]),[b,u]=l.useState(!0),[_,x]=l.useState(""),[h,i]=l.useState(""),[m,B]=l.useState(""),[f,J]=l.useState("all"),[j,X]=l.useState("all"),[ie,Q]=l.useState(!1),[C,de]=l.useState("create"),[w,H]=l.useState(null),[ce,xe]=l.useState(!1),[me,Z]=l.useState(!1),[$,M]=l.useState([]),[F,z]=l.useState({isOpen:!1,serviceId:null,serviceName:""}),[d,g]=l.useState({category:"",title:"",slug:"",description:"",price_min:"",price_max:"",price_display:"",features:[""],is_active:!0,is_featured:!1,display_order:0,icon_name:""}),[k,ge]=l.useState(!1),[O,D]=l.useState({isOpen:!1,service:null});l.useEffect(()=>{he(),be(),T()},[]),l.useEffect(()=>{pe()},[y,m,f,j]);const he=async()=>{try{const s=await fetch(`${p}/api/auth/me`,{credentials:"include"});if(!s.ok)throw new Error("Not authenticated");const r=await s.json();n(r)}catch(s){x(s.message),S("/admin/login")}},be=async()=>{try{const s=await fetch(`${p}/service-categories`,{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch categories");const r=await s.json();M(r.categories||[]),r.categories&&r.categories.length>0&&g(a=>({...a,category:r.categories[0].name}))}catch(s){console.error("Failed to fetch categories:",s),M([{name:"PHOTOGRAPHY",value:"photography"},{name:"VIDEOGRAPHY",value:"videography"}]),g(r=>({...r,category:"PHOTOGRAPHY"}))}},T=async()=>{u(!0);try{const s=await fetch(`${p}/admin/services`,{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch services");const r=await s.json();N(r.services||[])}catch(s){x(s.message)}finally{u(!1)}},pe=()=>{let s=[...y];m&&(s=s.filter(r=>{var a;return r.title.toLowerCase().includes(m.toLowerCase())||((a=r.description)==null?void 0:a.toLowerCase().includes(m.toLowerCase()))})),f!=="all"&&(s=s.filter(r=>r.category.toLowerCase()===f.toLowerCase())),j==="active"?s=s.filter(r=>r.is_active):j==="inactive"&&(s=s.filter(r=>!r.is_active)),L(s)},R=(s,r)=>{var a,c;de(s),s==="edit"&&r?(H(r),g({category:r.category,title:r.title,slug:r.slug,description:r.description||"",price_min:((a=r.price_min)==null?void 0:a.toString())||"",price_max:((c=r.price_max)==null?void 0:c.toString())||"",price_display:r.price_display||"",features:r.features.length>0?r.features:[""],is_active:r.is_active,is_featured:r.is_featured,display_order:r.display_order,icon_name:r.icon_name||""})):(H(null),g({category:$.length>0?$[0].name:"",title:"",slug:"",description:"",price_min:"",price_max:"",price_display:"",features:[""],is_active:!0,is_featured:!1,display_order:0,icon_name:""})),Q(!0)},ee=()=>{Q(!1),H(null),x("")},ue=s=>{const{name:r,value:a,type:c}=s.target,v=s.target.checked;if(g(I=>({...I,[r]:c==="checkbox"?v:a})),r==="title"&&!w){const I=a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");g(Ce=>({...Ce,slug:I}))}},fe=(s,r)=>{const a=[...d.features];a[s]=r,g(c=>({...c,features:a}))},je=()=>{g(s=>({...s,features:[...s.features,""]}))},ve=s=>{if(d.features.length>1){const r=d.features.filter((a,c)=>c!==s);g(a=>({...a,features:r}))}},ye=async s=>{s.preventDefault(),Z(!0),x("");try{const r={...d,features:d.features.filter(v=>v.trim()!==""),price_min:d.price_min?parseFloat(d.price_min):null,price_max:d.price_max?parseFloat(d.price_max):null,display_order:parseInt(d.display_order.toString())},a=C==="create"?`${p}/services`:`${p}/services/${w==null?void 0:w.id}`,c=await fetch(a,{method:C==="create"?"POST":"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!c.ok){const v=await c.json();throw new Error(v.message||v.error||"Operation failed")}i(`Service ${C==="create"?"created":"updated"} successfully!`),setTimeout(()=>i(""),3e3),ee(),T()}catch(r){x(r.message)}finally{Z(!1)}},te=(s,r)=>{z({isOpen:!0,serviceId:s,serviceName:r})},Ne=async()=>{if(F.serviceId){u(!0);try{if(!(await fetch(`${p}/services/${F.serviceId}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete service");i("Service deleted successfully!"),setTimeout(()=>i(""),3e3),O.isOpen&&A(),z({isOpen:!1,serviceId:null,serviceName:""}),T()}catch(s){x(s.message)}finally{u(!1)}}},we=async s=>{try{if(!(await fetch(`${p}/services/${s.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({is_active:!s.is_active})})).ok)throw new Error("Failed to update service status");i("Service status updated!"),setTimeout(()=>i(""),3e3),T()}catch(r){x(r.message)}},$e=s=>{D({isOpen:!0,service:s}),document.body.style.overflow="hidden"},A=()=>{D({isOpen:!1,service:null}),document.body.style.overflow=""},Se=()=>F.isOpen?e.jsx("div",{className:`fixed inset-0 ${t?"bg-black/60":"bg-black/50"} backdrop-blur-sm flex items-center justify-center z-[70] p-4`,children:e.jsxs("div",{className:`${t?"bg-stone-900/50":"bg-white"} rounded-xl shadow-2xl w-full max-w-md border ${t?"border-stone-700":"border-gray-200"}`,children:[e.jsx("div",{className:`p-4 sm:p-6 border-b ${t?"border-stone-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:`p-2 sm:p-3 rounded-full ${t?"bg-red-900/20":"bg-red-50"} flex-shrink-0`,children:e.jsx(K,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:`text-base sm:text-lg font-semibold ${t?"text-white":"text-stone-900"}`,children:"Delete Service"}),e.jsxs("p",{className:`mt-2 text-sm ${t?"text-stone-400":"text-stone-600"}`,children:["Are you sure you want to delete ",e.jsxs("span",{className:`font-semibold ${t?"text-white":"text-stone-900"}`,children:['"',F.serviceName,'"']}),"? This action cannot be undone."]})]})]})}),e.jsx("div",{className:"px-4 sm:px-6 pt-4",children:e.jsx("div",{className:`${t?"bg-red-900/10 border-red-900/30":"bg-red-50 border-red-200"} border rounded-lg p-3`,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:`text-xs ${t?"text-red-300":"text-red-800"}`,children:[e.jsx("strong",{children:"Warning:"})," This will permanently delete all data associated with this service including features and pricing information."]})]})})}),e.jsxs("div",{className:"p-4 sm:p-6 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end",children:[e.jsx("button",{onClick:()=>z({isOpen:!1,serviceId:null,serviceName:""}),disabled:b,className:`w-full sm:w-auto px-4 py-2.5 border ${t?"border-stone-600 text-stone-300 bg-stone-700 hover:bg-stone-600":"border-gray-300 text-stone-700 bg-white hover:bg-gray-50"} rounded-lg text-sm font-medium transition-all disabled:opacity-50`,children:"Keep Service"}),e.jsx("button",{onClick:Ne,disabled:b,className:"w-full sm:w-auto px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white text-sm rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Deleting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete Service"})]})})]})]})}):null,_e=()=>{if(!O.isOpen||!O.service)return null;const s=O.service;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed inset-0 ${t?"bg-black/60":"bg-black/50"} backdrop-blur-sm z-[60] md:hidden transition-opacity duration-300`,onClick:A}),e.jsx("div",{className:"fixed inset-x-0 bottom-0 z-[60] rounded-t-3xl shadow-2xl md:hidden transition-transform duration-300 ease-out",style:{maxHeight:"85vh"},children:e.jsxs("div",{className:`${t?"bg-stone-900/50":"bg-white"} rounded-t-3xl`,children:[e.jsx("div",{className:"flex justify-center pt-3 pb-2",children:e.jsx("div",{className:`w-12 h-1.5 ${t?"bg-stone-600":"bg-stone-300"} rounded-full`})}),e.jsx("div",{className:`px-6 py-4 border-b ${t?"border-stone-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:`text-xl font-bold ${t?"text-white":"text-stone-900"} truncate`,children:s.title}),e.jsx("p",{className:`text-sm ${t?"text-stone-400":"text-stone-500"} mt-0.5`,children:s.category})]}),e.jsx("button",{onClick:A,className:`p-2 -mr-2 ${t?"text-stone-400 hover:text-stone-300":"text-stone-500 hover:text-stone-700"} active:scale-95 transition-all`,children:e.jsx(E,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:`overflow-y-auto px-6 py-4 space-y-4 ${t?"bg-stone-900/50":"bg-white"}`,style:{maxHeight:"calc(85vh - 280px)"},children:e.jsxs("div",{className:`rounded-xl p-4 border ${t?"bg-stone-800/50 border-stone-700":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.category.includes("PHOTO")?e.jsx(se,{className:"w-5 h-5 text-gold-500"}):e.jsx(ne,{className:"w-5 h-5 text-gold-500"}),e.jsx("h3",{className:`text-sm font-semibold ${t?"text-white":"text-stone-900"}`,children:"Service Information"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-lg font-bold ${t?"text-white":"text-stone-900"}`,children:s.title}),e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${t?"bg-stone-700 text-stone-300":"bg-stone-100 text-stone-700"}`,children:s.category})]}),s.description&&e.jsx("p",{className:`text-sm ${t?"text-stone-400":"text-stone-600"}`,children:s.description})]}),s.price_display&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Price"}),e.jsx("span",{className:`text-sm font-bold ${t?"text-gold-400":"text-gold-600"}`,children:s.price_display})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.is_active?e.jsx(V,{className:"w-4 h-4 text-green-500"}):e.jsx(q,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:`text-sm ${s.is_active?t?"text-green-400":"text-green-600":t?"text-red-400":"text-red-600"}`,children:s.is_active?"Active":"Inactive"})]})]})]})}),e.jsxs("div",{className:`border-t ${t?"border-stone-700":"border-gray-200"} p-4 space-y-2 ${t?"bg-stone-900/50":"bg-white"}`,children:[e.jsxs("button",{onClick:()=>{A(),R("edit",s)},className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold ${t?"text-stone-300 bg-stone-700 hover:bg-stone-600":"text-stone-700 bg-gray-100 hover:bg-gray-200"} rounded-xl active:scale-[0.98] transition-all`,children:[e.jsx(le,{className:"w-4 h-4"}),"Edit Service"]}),e.jsxs("button",{onClick:()=>te(s.id,s.title),className:"w-full flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20 rounded-xl hover:bg-red-100 dark:hover:bg-red-900/30 active:scale-[0.98] transition-all",children:[e.jsx(U,{className:"w-4 h-4"}),"Delete Service"]})]})]})})]})};return b&&!P?e.jsx("div",{className:`min-h-screen flex items-center justify-center ${t?"bg-stone-950":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(W,{className:"h-10 w-10 text-gold-500 animate-spin mb-4"}),e.jsx("p",{className:`font-serif ${t?"text-stone-300":"text-stone-600"}`,children:"Loading..."})]})}):e.jsxs("div",{className:`flex min-h-screen ${t?"bg-stone-950":"bg-gray-50"}`,children:[e.jsx(Oe,{user:P,onCollapsedChange:xe}),e.jsx("main",{className:`flex-1 min-h-screen overflow-y-auto transition-all duration-300 pt-20 lg:pt-0 ${ce?"lg:ml-16":"lg:ml-72"}`,children:e.jsxs("div",{className:"p-3 sm:p-4 md:p-6 lg:p-8 max-w-[1600px] mx-auto",children:[e.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8",children:[e.jsx("h1",{className:`text-2xl sm:text-3xl md:text-4xl font-bold font-serif ${t?"text-white":"text-stone-900"}`,children:"Services Management"}),e.jsx("p",{className:`mt-2 text-xs sm:text-sm md:text-base ${t?"text-stone-400":"text-stone-600"}`,children:"Manage all photography and videography services"})]}),h&&e.jsxs("div",{className:`mb-4 sm:mb-6 rounded-lg p-3 sm:p-4 flex items-center gap-3 ${t?"bg-green-900/20 border border-green-800/50":"bg-green-50 border border-green-200"}`,children:[e.jsx(ae,{className:"h-4 sm:h-5 w-4 sm:w-5 text-green-500"}),e.jsx("p",{className:`text-sm ${t?"text-green-300":"text-green-800"}`,children:h})]}),_&&e.jsxs("div",{className:`mb-4 sm:mb-6 rounded-lg p-3 sm:p-4 flex items-center gap-3 ${t?"bg-red-900/20 border border-red-800/50":"bg-red-50 border border-red-200"}`,children:[e.jsx(K,{className:"h-4 sm:h-5 w-4 sm:w-5 text-red-500"}),e.jsx("p",{className:`text-sm ${t?"text-red-300":"text-red-800"}`,children:_})]}),e.jsxs("div",{className:`rounded-lg sm:rounded-xl shadow-sm border p-3 sm:p-4 md:p-6 mb-4 sm:mb-6 ${t?"bg-stone-900 border-stone-800":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 sm:gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 flex-1 w-full lg:w-auto",children:[e.jsx("div",{className:"block md:hidden",children:e.jsxs("button",{onClick:()=>ge(!k),className:`w-full flex items-center justify-between px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters"})]}),k?e.jsx(E,{className:"h-4 w-4"}):e.jsx(Y,{className:"h-4 w-4"})]})}),e.jsxs("div",{className:"hidden md:block relative flex-1 min-w-[200px]",children:[e.jsx(G,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search services...",value:m,onChange:s=>B(s.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white placeholder-stone-500":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`})]}),k&&e.jsx("div",{className:"md:hidden w-full",children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search services...",value:m,onChange:s=>B(s.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white placeholder-stone-500":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`})]})}),e.jsxs("div",{className:"hidden md:flex gap-3",children:[e.jsxs("select",{value:f,onChange:s=>J(s.target.value),className:`px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"all",children:"All Categories"}),$.map(s=>e.jsx("option",{value:s.name,children:s.name},s.name))]}),e.jsxs("select",{value:j,onChange:s=>X(s.target.value),className:`px-4 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),k&&e.jsxs("div",{className:"md:hidden grid grid-cols-2 gap-3",children:[e.jsxs("select",{value:f,onChange:s=>J(s.target.value),className:`px-3 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"all",children:"All Categories"}),$.map(s=>e.jsx("option",{value:s.name,children:s.name},s.name))]}),e.jsxs("select",{value:j,onChange:s=>X(s.target.value),className:`px-3 py-2.5 rounded-lg border ${t?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("button",{onClick:()=>R("create"),className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 bg-gold-500 text-stone-900 rounded-lg font-bold hover:bg-gold-400 transition-colors w-full sm:w-auto justify-center",children:[e.jsx(Y,{className:"h-4 sm:h-5 w-4 sm:w-5"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Create Service"})]})]}),e.jsx("div",{className:`mt-3 sm:mt-4 pt-3 sm:pt-4 border-t ${t?"border-stone-800":"border-gray-200"}`,children:e.jsxs("p",{className:`text-xs sm:text-sm ${t?"text-stone-400":"text-stone-600"}`,children:["Showing ",o.length," of ",y.length," services"]})})]}),b?e.jsx("div",{className:"flex items-center justify-center py-12 md:py-16",children:e.jsx(W,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gold-500 animate-spin"})}):o.length===0?e.jsxs("div",{className:`rounded-lg sm:rounded-xl shadow-sm border p-8 sm:p-12 text-center ${t?"bg-stone-900 border-stone-800":"bg-white border-gray-200"}`,children:[e.jsx(Te,{className:`h-12 sm:h-16 w-12 sm:w-16 mx-auto mb-4 ${t?"text-stone-700":"text-stone-300"}`}),e.jsx("h3",{className:`text-lg sm:text-xl font-bold mb-2 ${t?"text-white":"text-stone-900"}`,children:"No services found"}),e.jsx("p",{className:`text-sm ${t?"text-stone-400":"text-stone-600"}`,children:m||f!=="all"||j!=="all"?"Try adjusting your filters":"Get started by creating your first service"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:o.map(s=>e.jsxs("div",{className:`rounded-xl shadow-sm border p-4 sm:p-6 transition-all hover:shadow-lg ${t?"bg-stone-900 border-stone-800":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t?"bg-stone-800":"bg-stone-100"}`,children:s.category.includes("PHOTO")?e.jsx(se,{className:"h-5 w-5 text-gold-500"}):e.jsx(ne,{className:"h-5 w-5 text-gold-500"})}),e.jsx("div",{children:e.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${t?"text-stone-400":"text-stone-500"}`,children:s.category})})]}),e.jsxs("div",{className:"flex gap-2",children:[s.is_featured&&e.jsx("div",{className:`p-1.5 rounded-lg ${t?"bg-gold-900/30":"bg-gold-100"}`,children:e.jsx(oe,{className:"h-4 w-4 text-gold-500",fill:"currentColor"})}),e.jsx("button",{onClick:()=>we(s),className:`p-1.5 rounded-lg transition-colors ${s.is_active?t?"bg-green-900/30":"bg-green-100":t?"bg-red-900/30":"bg-red-100"}`,children:s.is_active?e.jsx(V,{className:"h-4 w-4 text-green-500"}):e.jsx(q,{className:"h-4 w-4 text-red-500"})})]})]}),e.jsx("h3",{className:`text-lg font-bold mb-2 ${t?"text-white":"text-stone-900"}`,children:s.title}),s.description&&e.jsx("p",{className:`text-sm mb-4 line-clamp-2 ${t?"text-stone-400":"text-stone-600"}`,children:s.description}),s.price_display&&e.jsx("div",{className:`mb-4 pb-4 border-b ${t?"border-stone-800":"border-gray-200"}`,children:e.jsx("p",{className:`text-sm font-bold ${t?"text-gold-400":"text-gold-600"}`,children:s.price_display})}),s.features.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-2 ${t?"text-stone-400":"text-stone-500"}`,children:"Features"}),e.jsxs("div",{className:"space-y-1",children:[s.features.slice(0,3).map((r,a)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-3 w-3 text-gold-500 flex-shrink-0"}),e.jsx("span",{className:`text-xs ${t?"text-stone-300":"text-stone-600"}`,children:r})]},a)),s.features.length>3&&e.jsxs("p",{className:`text-xs ${t?"text-stone-500":"text-stone-400"}`,children:["+",s.features.length-3," more"]})]})]}),e.jsxs("div",{className:`flex gap-2 pt-4 border-t ${t?"border-stone-800":"border-gray-200"}`,children:[e.jsxs("button",{onClick:()=>R("edit",s),className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${t?"bg-stone-800 text-white hover:bg-stone-700":"bg-stone-100 text-stone-900 hover:bg-stone-200"}`,children:[e.jsx(le,{className:"h-4 w-4"}),"Edit"]}),e.jsx("button",{onClick:()=>te(s.id,s.title),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t?"bg-red-900/30 text-red-400 hover:bg-red-900/50":"bg-red-50 text-red-600 hover:bg-red-100"}`,children:e.jsx(U,{className:"h-4 w-4"})})]})]},s.id))}),e.jsx("div",{className:"md:hidden space-y-3",children:o.map(s=>e.jsxs("button",{onClick:()=>$e(s),className:`w-full ${t?"bg-stone-900 border-stone-800":"bg-white border-gray-200"} rounded-lg border p-4 shadow-sm hover:shadow-md active:scale-[0.98] transition-all text-left min-h-[120px] flex flex-col justify-between`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:`text-base font-bold ${t?"text-white":"text-stone-900"} truncate`,children:s.title}),e.jsx("p",{className:`text-sm ${t?"text-stone-400":"text-stone-500"} mt-0.5`,children:s.category})]}),e.jsxs("div",{className:"flex gap-2",children:[s.is_featured&&e.jsx("div",{className:`p-1 rounded ${t?"bg-gold-900/30":"bg-gold-100"}`,children:e.jsx(oe,{className:"h-3.5 w-3.5 text-gold-500",fill:"currentColor"})}),s.is_active?e.jsx(V,{className:"h-3.5 w-3.5 text-green-500"}):e.jsx(q,{className:"h-3.5 w-3.5 text-red-500"})]})]}),e.jsxs("div",{className:"space-y-2",children:[s.price_display&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-sm ${t?"text-stone-400":"text-stone-600"}`,children:"Price"}),e.jsx("span",{className:`text-sm font-bold ${t?"text-gold-400":"text-gold-600"}`,children:s.price_display})]}),s.features.length>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-sm ${t?"text-stone-400":"text-stone-600"}`,children:"Features"}),e.jsxs("span",{className:"text-xs px-2 py-1 bg-stone-100 dark:bg-stone-800 text-stone-600 dark:text-stone-400 rounded",children:[s.features.length," features"]})]})]})]},s.id))})]})]})}),ie&&e.jsx(Ae,{isDarkMode:t,modalMode:C,currentService:w,formData:d,categories:$,isSubmitting:me,onInputChange:ue,onFeatureChange:fe,onAddFeature:je,onRemoveFeature:ve,onSubmit:ye,onClose:ee}),Se(),_e()]})};export{Qe as default};
