import{c as te,u as $t,b as kt,a as Ct,r as a,j as e,d as Y,X as Q,M as Fe,f as Pe,P as Le}from"./index-Cx_oq0n8.js";import{A as St}from"./AdminNavbar-Czl-MULG.js";import{C as Z,S as Oe}from"./search-BnyDWve6.js";import{C as B}from"./circle-alert-BnMkY9MU.js";import{F as _t}from"./funnel-CFFTlBTp.js";import{P as Dt,a as he,T as ee}from"./trash-2-BR9B9Nv0.js";import{C as Ie}from"./chevron-left-t5kqjrr9.js";import{C as Ue}from"./chevron-right-DYXeV4bW.js";import{C as ge}from"./calendar-BQdKMGbs.js";import{C as Mt}from"./clock-CwQ-6wN3.js";import{D as Et}from"./users-Cq4-76LU.js";import{C as Tt}from"./circle-check-big-CjVXbCXH.js";import"./briefcase-uZ0I0Dvl.js";import"./chevron-down-B8Jd8T6i.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],At=te("circle-x",Bt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Pt=te("grid-3x3",Ft);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ot=te("list",Lt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ut=te("send",It),f="http://localhost:5000",ns=()=>{const{isDarkMode:s}=$t(),Ve=kt(),ze=Ct(),[ue,Re]=a.useState(null),[se,Ge]=a.useState([]),[d,qe]=a.useState([]),[j,We]=a.useState(null),[A,pe]=a.useState([]),[v,He]=a.useState([]),[_,F]=a.useState(!0),[be,$]=a.useState(""),[fe,k]=a.useState(""),[Je,Xe]=a.useState(!1),D=ze.pathname.split("/").pop()||"all",h=D==="pending",g=D==="confirmed",M=D==="calendar",[x,je]=a.useState(""),[u,Ne]=a.useState(h?"PENDING":g?"CONFIRMED":"all"),[p,we]=a.useState("all"),[b,ye]=a.useState("all"),[N,ve]=a.useState(""),[w,$e]=a.useState(""),[ne,ke]=a.useState("list"),[C,Ce]=a.useState(1),[P,Ke]=a.useState(1),[Ye,Qe]=a.useState(0),[Se,Vt]=a.useState(20),[Ze,L]=a.useState(!1),[et,O]=a.useState(!1),[c,I]=a.useState(null),[U,V]=a.useState(!1),[z,tt]=a.useState(!1),[ae,_e]=a.useState({isOpen:!1,booking:null}),[o,R]=a.useState([]),[m,De]=a.useState(""),[le,Me]=a.useState(""),[G,Ee]=a.useState(""),[q,re]=a.useState({isOpen:!1,bookingId:null,bookingName:""}),[Te,st]=a.useState([]),[y,oe]=a.useState(new Date),[nt,at]=a.useState({});a.useEffect(()=>{lt(),rt(),ot(),H()},[]),a.useEffect(()=>{W(),M&&dt()},[C,Se,D]),a.useEffect(()=>{it()},[se,x,u,p,b,N,w,D]);const lt=async()=>{try{const t=await fetch(`${f}/api/auth/me`,{credentials:"include"});if(!t.ok)throw new Error("Not authenticated");const n=await t.json();Re(n)}catch(t){$(t.message),Ve("/admin/login")}},rt=async()=>{try{const t=await fetch(`${f}/booking-statuses`);if(!t.ok)throw new Error("Failed to fetch statuses");const n=await t.json();pe(n.statuses||[])}catch(t){console.error("Failed to fetch statuses:",t),pe([{name:"PENDING",value:"Pending"},{name:"CONFIRMED",value:"Confirmed"},{name:"CANCELLED",value:"Cancelled"},{name:"COMPLETED",value:"Completed"}])}},ot=async()=>{try{const t=await fetch(`${f}/admin/users`,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch staff users");const n=await t.json();He(n.users||[])}catch(t){console.error("Failed to fetch staff users:",t)}},W=async()=>{F(!0);try{let t=new URLSearchParams({page:C.toString(),per_page:Se.toString(),...p!=="all"&&{service_type:p},...b!=="all"&&{assigned_to:b},...x&&{search:x},...N&&{date_from:N},...w&&{date_to:w}});h?t.append("status","PENDING"):g?t.append("status","CONFIRMED"):u!=="all"&&t.append("status",u);const n=await fetch(`${f}/admin/bookings?${t}`,{credentials:"include"});if(!n.ok)throw n.status===403?new Error("Only admins can access bookings"):new Error("Failed to fetch bookings");const l=await n.json();Ge(l.bookings||[]),Ke(l.pages||1),Qe(l.total||0);const E=[...new Set((l.bookings||[]).map(me=>me.service_type))];st(E)}catch(t){$(t.message)}finally{F(!1)}},H=async()=>{try{const t=await fetch(`${f}/admin/bookings/stats`,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch stats");const n=await t.json();We(n.stats)}catch(t){console.error("Failed to fetch stats:",t)}},it=()=>{let t=[...se];x&&(t=t.filter(n=>n.client_name.toLowerCase().includes(x.toLowerCase())||n.client_email.toLowerCase().includes(x.toLowerCase())||n.client_phone.includes(x))),u!=="all"&&(t=t.filter(n=>n.status===u.toUpperCase())),p!=="all"&&(t=t.filter(n=>n.service_type===p)),b!=="all"&&(t=t.filter(n=>{var l;return b==="unassigned"?!n.assigned_to:((l=n.assigned_to)==null?void 0:l.toString())===b})),N&&(t=t.filter(n=>n.preferred_date>=N)),w&&(t=t.filter(n=>n.preferred_date<=w)),qe(t)},dt=()=>{const t={};se.forEach(n=>{const l=n.preferred_date;t[l]||(t[l]=[]),t[l].push(n)}),at(t)},ct=()=>{const t=y.getFullYear(),n=y.getMonth(),l=new Date(t,n,1),me=new Date(t,n+1,0).getDate(),jt=l.getDay(),T=[],Nt=new Date(t,n,0).getDate();for(let r=jt-1;r>=0;r--){const S=new Date(t,n-1,Nt-r);T.push({date:S.toISOString().split("T")[0],isCurrentMonth:!1,isToday:!1,bookings:[]})}const wt=new Date().toISOString().split("T")[0];for(let r=1;r<=me;r++){const i=new Date(t,n,r).toISOString().split("T")[0];T.push({date:i,isCurrentMonth:!0,isToday:i===wt,bookings:nt[i]||[]})}const yt=42-T.length;for(let r=1;r<=yt;r++){const S=new Date(t,n+1,r);T.push({date:S.toISOString().split("T")[0],isCurrentMonth:!1,isToday:!1,bookings:[]})}const vt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return e.jsxs("div",{className:`rounded-xl ${s?"bg-stone-900":"bg-white"} p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:`text-xl font-bold ${s?"text-white":"text-stone-900"}`,children:y.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>oe(new Date(y.setMonth(y.getMonth()-1))),className:`p-2 rounded-lg ${s?"bg-stone-800 hover:bg-stone-700":"bg-stone-100 hover:bg-stone-200"}`,children:e.jsx(Ie,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>oe(new Date),className:`px-4 py-2 rounded-lg ${s?"bg-stone-800 hover:bg-stone-700":"bg-stone-100 hover:bg-stone-200"}`,children:"Today"}),e.jsx("button",{onClick:()=>oe(new Date(y.setMonth(y.getMonth()+1))),className:`p-2 rounded-lg ${s?"bg-stone-800 hover:bg-stone-700":"bg-stone-100 hover:bg-stone-200"}`,children:e.jsx(Ue,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:vt.map(r=>e.jsx("div",{className:`text-center font-semibold py-2 ${s?"text-stone-400":"text-stone-600"}`,children:r},r))}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:T.map((r,S)=>e.jsxs("div",{className:`min-h-32 rounded-lg border p-2 ${r.isCurrentMonth?r.isToday?s?"bg-gold-900/20 border-gold-500":"bg-gold-50 border-gold-200":s?"bg-stone-800/50 border-stone-700":"bg-white border-gray-200":s?"bg-stone-900/30 border-stone-800 text-stone-600":"bg-gray-50 border-gray-100 text-gray-400"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:`text-sm font-medium ${r.isToday?"text-gold-500":r.isCurrentMonth?s?"text-stone-300":"text-stone-700":s?"text-stone-500":"text-gray-400"}`,children:new Date(r.date).getDate()}),r.bookings.length>0&&e.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${s?"bg-gold-500/20 text-gold-400":"bg-gold-100 text-gold-700"}`,children:r.bookings.length})]}),e.jsxs("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:[r.bookings.slice(0,3).map(i=>e.jsxs("div",{onClick:()=>J(i),className:`text-xs p-1.5 rounded cursor-pointer truncate ${i.status==="PENDING"?s?"bg-yellow-900/30 text-yellow-300":"bg-yellow-100 text-yellow-800":i.status==="CONFIRMED"?s?"bg-blue-900/30 text-blue-300":"bg-blue-100 text-blue-800":s?"bg-stone-700 text-stone-300":"bg-gray-100 text-gray-800"}`,title:`${i.client_name} - ${i.service_type}`,children:[e.jsx("div",{className:"font-medium truncate",children:i.client_name}),e.jsx("div",{className:"truncate",children:i.service_type}),i.preferred_time&&e.jsx("div",{className:"truncate",children:i.preferred_time})]},i.id)),r.bookings.length>3&&e.jsxs("div",{className:`text-xs text-center ${s?"text-stone-400":"text-gray-500"}`,children:["+",r.bookings.length-3," more"]})]})]},S))})]})},J=t=>{I(t),L(!0)},ie=(t,n)=>{re({isOpen:!0,bookingId:t,bookingName:n})},xt=async()=>{if(q.bookingId){F(!0);try{if(!(await fetch(`${f}/bookings/${q.bookingId}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete booking");k("Booking deleted successfully!"),setTimeout(()=>k(""),3e3),re({isOpen:!1,bookingId:null,bookingName:""}),W(),H()}catch(t){$(t.message)}finally{F(!1)}}},mt=async()=>{if(!o.length||!m){$("Please select bookings and an action");return}V(!0);try{const t={booking_ids:o,action:m};m==="update_status"&&le?t.status=le:m==="assign"&&G&&(t.assigned_to=G==="unassign"?null:G);const n=await fetch(`${f}/admin/bookings/bulk-action`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!n.ok){const l=await n.json();throw new Error(l.message||"Bulk action failed")}k("Bulk action completed successfully!"),setTimeout(()=>k(""),3e3),O(!1),R([]),De(""),Me(""),Ee(""),W(),H()}catch(t){$(t.message)}finally{V(!1)}},ht=async t=>{if(c){V(!0);try{const n=await fetch(`${f}/bookings/${c.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!n.ok){const l=await n.json();throw new Error(l.message||"Update failed")}k("Booking updated successfully!"),setTimeout(()=>k(""),3e3),L(!1),I(null),W(),H()}catch(n){$(n.message)}finally{V(!1)}}},de=t=>{R(n=>n.includes(t)?n.filter(l=>l!==t):[...n,t])},Be=()=>{o.length===d.length?R([]):R(d.map(t=>t.id))},X=t=>{switch(t==null?void 0:t.toUpperCase()){case"PENDING":return s?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-800";case"CONFIRMED":return s?"bg-blue-900/30 text-blue-400":"bg-blue-100 text-blue-800";case"CANCELLED":return s?"bg-red-900/30 text-red-400":"bg-red-100 text-red-800";case"COMPLETED":return s?"bg-green-900/30 text-green-400":"bg-green-100 text-green-800";default:return s?"bg-stone-700 text-stone-300":"bg-stone-100 text-stone-800"}},K=t=>{switch(t==null?void 0:t.toUpperCase()){case"PENDING":return e.jsx(B,{className:"w-4 h-4"});case"CONFIRMED":return e.jsx(Tt,{className:"w-4 h-4"});case"CANCELLED":return e.jsx(At,{className:"w-4 h-4"});case"COMPLETED":return e.jsx(Z,{className:"w-4 h-4"});default:return null}},Ae=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ce=(t,n)=>{let E=new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"});return n&&(E+=` at ${n}`),E},gt=t=>{_e({isOpen:!0,booking:t}),document.body.style.overflow="hidden"},xe=()=>{_e({isOpen:!1,booking:null}),document.body.style.overflow=""},ut=()=>q.isOpen?e.jsx("div",{className:`fixed inset-0 ${s?"bg-black/60":"bg-black/50"} backdrop-blur-sm flex items-center justify-center z-[70] p-4`,children:e.jsxs("div",{className:`${s?"bg-stone-900/50":"bg-white"} rounded-xl shadow-2xl w-full max-w-md border ${s?"border-stone-700":"border-gray-200"}`,children:[e.jsx("div",{className:`p-4 sm:p-6 border-b ${s?"border-stone-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:`p-2 sm:p-3 rounded-full ${s?"bg-red-900/20":"bg-red-50"} flex-shrink-0`,children:e.jsx(B,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:`text-base sm:text-lg font-semibold ${s?"text-white":"text-stone-900"}`,children:"Delete Booking"}),e.jsxs("p",{className:`mt-2 text-sm ${s?"text-stone-400":"text-stone-600"}`,children:["Are you sure you want to delete booking for ",e.jsxs("span",{className:`font-semibold ${s?"text-white":"text-stone-900"}`,children:['"',q.bookingName,'"']}),"? This action cannot be undone and will remove all associated data."]})]})]})}),e.jsx("div",{className:"px-4 sm:px-6 pt-4",children:e.jsx("div",{className:`${s?"bg-red-900/10 border-red-900/30":"bg-red-50 border-red-200"} border rounded-lg p-3`,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:`text-xs ${s?"text-red-300":"text-red-800"}`,children:[e.jsx("strong",{children:"Warning:"})," Deleting this booking will also remove any associated notes, assignment information, and status history."]})]})})}),e.jsxs("div",{className:"p-4 sm:p-6 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end",children:[e.jsx("button",{onClick:()=>re({isOpen:!1,bookingId:null,bookingName:""}),disabled:_,className:`w-full sm:w-auto px-4 py-2.5 border ${s?"border-stone-600 text-stone-300 bg-stone-700 hover:bg-stone-600":"border-gray-300 text-stone-700 bg-white hover:bg-gray-50"} rounded-lg text-sm font-medium transition-all disabled:opacity-50`,children:"Keep Booking"}),e.jsx("button",{onClick:xt,disabled:_,className:"w-full sm:w-auto px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white text-sm rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:_?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Deleting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete Booking"})]})})]})]})}):null,pt=()=>!Ze||!c?null:e.jsx("div",{className:`fixed inset-0 ${s?"bg-black/60":"bg-black/50"} backdrop-blur-sm flex items-center justify-center z-50 p-4`,children:e.jsxs("div",{className:`${s?"bg-stone-900/50":"bg-white"} rounded-xl shadow-2xl w-full max-w-2xl border ${s?"border-stone-700":"border-gray-200"}`,children:[e.jsx("div",{className:`p-6 border-b ${s?"border-stone-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:`text-xl font-bold ${s?"text-white":"text-stone-900"}`,children:["Edit Booking - ",c.client_name]}),e.jsx("button",{onClick:()=>{L(!1),I(null)},className:`p-2 ${s?"text-stone-400 hover:text-stone-300":"text-stone-500 hover:text-stone-700"}`,children:e.jsx(Q,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:t=>{t.preventDefault();const n=new FormData(t.target),l=Object.fromEntries(n.entries());ht(l)},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-stone-300":"text-stone-700"}`,children:"Status"}),e.jsx("select",{name:"status",defaultValue:c.status,className:`w-full px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:A.map(t=>e.jsx("option",{value:t.name,children:t.value},t.name))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-stone-300":"text-stone-700"}`,children:"Assigned To"}),e.jsxs("select",{name:"assigned_to",defaultValue:c.assigned_to||"",className:`w-full px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"",children:"Unassigned"}),v.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.email,")"]},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-stone-300":"text-stone-700"}`,children:"Client Name"}),e.jsx("input",{type:"text",name:"client_name",defaultValue:c.client_name,className:`w-full px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-stone-300":"text-stone-700"}`,children:"Client Email"}),e.jsx("input",{type:"email",name:"client_email",defaultValue:c.client_email,className:`w-full px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-stone-300":"text-stone-700"}`,children:"Preferred Date"}),e.jsx("input",{type:"date",name:"preferred_date",defaultValue:c.preferred_date,className:`w-full px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-stone-300":"text-stone-700"}`,children:"Preferred Time"}),e.jsx("input",{type:"time",name:"preferred_time",defaultValue:c.preferred_time||"",className:`w-full px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-stone-300":"text-stone-700"}`,children:"Internal Notes"}),e.jsx("textarea",{name:"internal_notes",defaultValue:c.internal_notes||"",rows:3,className:`w-full px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{L(!1),I(null)},className:`px-4 py-2.5 border ${s?"border-stone-600 text-stone-300 bg-stone-700 hover:bg-stone-600":"border-gray-300 text-stone-700 bg-white hover:bg-gray-50"} rounded-lg text-sm font-medium transition-all`,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:U,className:"px-4 py-2.5 bg-gold-500 hover:bg-gold-600 text-stone-900 rounded-lg text-sm font-medium transition-all disabled:opacity-50 flex items-center gap-2",children:U?e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"w-4 h-4 animate-spin"}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-4 h-4"}),"Update Booking"]})})]})]})})]})}),bt=()=>et?e.jsx("div",{className:`fixed inset-0 ${s?"bg-black/60":"bg-black/50"} backdrop-blur-sm flex items-center justify-center z-50 p-4`,children:e.jsxs("div",{className:`${s?"bg-stone-900/50":"bg-white"} rounded-xl shadow-2xl w-full max-w-md border ${s?"border-stone-700":"border-gray-200"}`,children:[e.jsx("div",{className:`p-6 border-b ${s?"border-stone-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:`text-xl font-bold ${s?"text-white":"text-stone-900"}`,children:["Bulk Actions (",o.length," bookings)"]}),e.jsx("button",{onClick:()=>O(!1),className:`p-2 ${s?"text-stone-400 hover:text-stone-300":"text-stone-500 hover:text-stone-700"}`,children:e.jsx(Q,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-stone-300":"text-stone-700"}`,children:"Action"}),e.jsxs("select",{value:m,onChange:t=>De(t.target.value),className:`w-full px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"",children:"Select Action"}),e.jsx("option",{value:"update_status",children:"Update Status"}),e.jsx("option",{value:"assign",children:"Assign to Staff"}),e.jsx("option",{value:"delete",children:"Delete Bookings"})]})]}),m==="update_status"&&e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-stone-300":"text-stone-700"}`,children:"New Status"}),e.jsxs("select",{value:le,onChange:t=>Me(t.target.value),className:`w-full px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"",children:"Select Status"}),A.map(t=>e.jsx("option",{value:t.name,children:t.value},t.name))]})]}),m==="assign"&&e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-stone-300":"text-stone-700"}`,children:"Assign To"}),e.jsxs("select",{value:G,onChange:t=>Ee(t.target.value),className:`w-full px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"",children:"Select Staff"}),e.jsx("option",{value:"unassign",children:"Unassign All"}),v.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.email,")"]},t.id))]})]}),m==="delete"&&e.jsx("div",{className:`${s?"bg-red-900/10 border-red-900/30":"bg-red-50 border-red-200"} border rounded-lg p-3`,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:`text-xs ${s?"text-red-300":"text-red-800"}`,children:[e.jsx("strong",{children:"Warning:"})," This will permanently delete ",o.length," booking(s). This action cannot be undone."]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>O(!1),className:`px-4 py-2.5 border ${s?"border-stone-600 text-stone-300 bg-stone-700 hover:bg-stone-600":"border-gray-300 text-stone-700 bg-white hover:bg-gray-50"} rounded-lg text-sm font-medium transition-all`,children:"Cancel"}),e.jsx("button",{onClick:mt,disabled:!m||U,className:"px-4 py-2.5 bg-gold-500 hover:bg-gold-600 text-stone-900 rounded-lg text-sm font-medium transition-all disabled:opacity-50 flex items-center gap-2",children:U?e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-4 h-4"}),"Apply Action"]})})]})]})]})}):null,ft=()=>{if(!ae.isOpen||!ae.booking)return null;const t=ae.booking;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed inset-0 ${s?"bg-black/60":"bg-black/50"} backdrop-blur-sm z-[60] md:hidden transition-opacity duration-300`,onClick:xe}),e.jsx("div",{className:"fixed inset-x-0 bottom-0 z-[60] rounded-t-3xl shadow-2xl md:hidden transition-transform duration-300 ease-out",style:{maxHeight:"85vh"},children:e.jsxs("div",{className:`${s?"bg-stone-900/50":"bg-white"} rounded-t-3xl`,children:[e.jsx("div",{className:"flex justify-center pt-3 pb-2",children:e.jsx("div",{className:`w-12 h-1.5 ${s?"bg-stone-600":"bg-stone-300"} rounded-full`})}),e.jsx("div",{className:`px-6 py-4 border-b ${s?"border-stone-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:`text-xl font-bold ${s?"text-white":"text-stone-900"} truncate`,children:t.client_name}),e.jsx("p",{className:`text-sm ${s?"text-stone-400":"text-stone-500"} mt-0.5`,children:t.service_type})]}),e.jsx("button",{onClick:xe,className:`p-2 -mr-2 ${s?"text-stone-400 hover:text-stone-300":"text-stone-500 hover:text-stone-700"} active:scale-95 transition-all`,children:e.jsx(Q,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:`overflow-y-auto px-6 py-4 space-y-4 ${s?"bg-stone-900/50":"bg-white"}`,style:{maxHeight:"calc(85vh - 280px)"},children:e.jsxs("div",{className:`rounded-xl p-4 border ${s?"bg-stone-800/50 border-stone-700":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-lg font-bold ${s?"text-white":"text-stone-900"}`,children:t.client_name}),e.jsxs("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${X(t.status)} flex items-center gap-1`,children:[K(t.status),t.status]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-4 h-4 text-stone-500"}),e.jsx("span",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:t.client_email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4 text-stone-500"}),e.jsx("span",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:t.client_phone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"w-4 h-4 text-stone-500"}),e.jsx("span",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:ce(t.preferred_date,t.preferred_time)})]}),t.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-4 h-4 text-stone-500"}),e.jsx("span",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:t.location})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Service Type"}),e.jsx("span",{className:`text-sm font-bold ${s?"text-gold-400":"text-gold-600"}`,children:t.service_type})]}),t.budget_range&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Budget Range"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"w-4 h-4 text-gold-500"}),e.jsx("span",{className:`text-sm ${s?"text-gold-400":"text-gold-600"}`,children:t.budget_range})]})]}),t.additional_notes&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Client Notes"}),e.jsx("p",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:t.additional_notes})]})]})}),e.jsxs("div",{className:`border-t ${s?"border-stone-700":"border-gray-200"} p-4 space-y-2 ${s?"bg-stone-900/50":"bg-white"}`,children:[e.jsxs("button",{onClick:()=>{xe(),J(t)},className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold ${s?"text-stone-300 bg-stone-700 hover:bg-stone-600":"text-stone-700 bg-gray-100 hover:bg-gray-200"} rounded-xl active:scale-[0.98] transition-all`,children:[e.jsx(he,{className:"w-4 h-4"}),"Edit Booking"]}),e.jsxs("button",{onClick:()=>ie(t.id,t.client_name),className:"w-full flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold text-red-700 dark:text-red-400 bg-red-50 dark:bg-red-900/20 rounded-xl hover:bg-red-100 dark:hover:bg-red-900/30 active:scale-[0.98] transition-all",children:[e.jsx(ee,{className:"w-4 h-4"}),"Delete Booking"]})]})]})})]})};return _&&!ue?e.jsx("div",{className:`min-h-screen flex items-center justify-center ${s?"bg-stone-950":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Y,{className:"h-10 w-10 text-gold-500 animate-spin mb-4"}),e.jsx("p",{className:`font-serif ${s?"text-stone-300":"text-stone-600"}`,children:"Loading..."})]})}):e.jsxs("div",{className:`flex min-h-screen ${s?"bg-stone-950":"bg-gray-50"}`,children:[e.jsx(St,{user:ue,onCollapsedChange:Xe,bookingStats:j}),e.jsx("main",{className:`flex-1 min-h-screen overflow-y-auto transition-all duration-300 pt-20 lg:pt-0 ${Je?"lg:ml-16":"lg:ml-72"}`,children:e.jsxs("div",{className:"p-3 sm:p-4 md:p-6 lg:p-8 max-w-[1600px] mx-auto",children:[e.jsx("div",{className:"mb-4 sm:mb-6 md:mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl sm:text-3xl md:text-4xl font-bold font-serif ${s?"text-white":"text-stone-900"}`,children:h?"Pending Bookings":g?"Confirmed Bookings":M?"Calendar View":"Booking Management"}),e.jsx("p",{className:`mt-2 text-xs sm:text-sm md:text-base ${s?"text-stone-400":"text-stone-600"}`,children:h?`Manage pending booking requests (${(j==null?void 0:j.pending)||0} pending)`:g?`View confirmed appointments (${(j==null?void 0:j.confirmed)||0} confirmed)`:M?"Visualize bookings on calendar":"Manage and track all customer bookings"})]}),!M&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>ke("list"),className:`p-2 rounded-lg ${ne==="list"?s?"bg-stone-800 text-white":"bg-stone-100 text-stone-900":s?"text-stone-400 hover:bg-stone-800":"text-stone-600 hover:bg-gray-100"}`,title:"List View",children:e.jsx(Ot,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>ke("grid"),className:`p-2 rounded-lg ${ne==="grid"?s?"bg-stone-800 text-white":"bg-stone-100 text-stone-900":s?"text-stone-400 hover:bg-stone-800":"text-stone-600 hover:bg-gray-100"}`,title:"Grid View",children:e.jsx(Pt,{className:"w-5 h-5"})})]})]})}),fe&&e.jsxs("div",{className:`mb-4 sm:mb-6 rounded-lg p-3 sm:p-4 flex items-center gap-3 ${s?"bg-green-900/20 border border-green-800/50":"bg-green-50 border border-green-200"}`,children:[e.jsx(Z,{className:"h-4 sm:h-5 w-4 sm:w-5 text-green-500"}),e.jsx("p",{className:`text-sm ${s?"text-green-300":"text-green-800"}`,children:fe})]}),be&&e.jsxs("div",{className:`mb-4 sm:mb-6 rounded-lg p-3 sm:p-4 flex items-center gap-3 ${s?"bg-red-900/20 border border-red-800/50":"bg-red-50 border border-red-200"}`,children:[e.jsx(B,{className:"h-4 sm:h-5 w-4 sm:w-5 text-red-500"}),e.jsx("p",{className:`text-sm ${s?"text-red-300":"text-red-800"}`,children:be})]}),M?ct():e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`rounded-lg sm:rounded-xl shadow-sm border p-3 sm:p-4 md:p-6 mb-4 sm:mb-6 ${s?"bg-stone-900 border-stone-800":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 sm:gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 flex-1 w-full lg:w-auto",children:[e.jsx("div",{className:"block md:hidden",children:e.jsxs("button",{onClick:()=>tt(!z),className:`w-full flex items-center justify-between px-4 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters"})]}),z?e.jsx(Q,{className:"h-4 w-4"}):e.jsx(Dt,{className:"h-4 w-4"})]})}),e.jsxs("div",{className:"hidden md:block relative flex-1 min-w-[200px]",children:[e.jsx(Oe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search by name, email or phone...",value:x,onChange:t=>je(t.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white placeholder-stone-500":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`})]}),z&&e.jsx("div",{className:"md:hidden w-full",children:e.jsxs("div",{className:"relative",children:[e.jsx(Oe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-stone-400"}),e.jsx("input",{type:"text",placeholder:"Search bookings...",value:x,onChange:t=>je(t.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white placeholder-stone-500":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`})]})}),!h&&!g&&e.jsxs("div",{className:"hidden md:flex gap-3 flex-wrap",children:[e.jsxs("select",{value:u,onChange:t=>Ne(t.target.value),className:`px-4 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"all",children:"All Status"}),A.map(t=>e.jsx("option",{value:t.name,children:t.value},t.name))]}),e.jsxs("select",{value:p,onChange:t=>we(t.target.value),className:`px-4 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"all",children:"All Service Types"}),Te.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("select",{value:b,onChange:t=>ye(t.target.value),className:`px-4 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"all",children:"All Assignments"}),e.jsx("option",{value:"unassigned",children:"Unassigned"}),v.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx("input",{type:"date",value:N,onChange:t=>ve(t.target.value),placeholder:"From date",className:`px-4 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`}),e.jsx("input",{type:"date",value:w,onChange:t=>$e(t.target.value),placeholder:"To date",className:`px-4 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`})]}),z&&!h&&!g&&e.jsxs("div",{className:"md:hidden grid grid-cols-2 gap-3",children:[e.jsxs("select",{value:u,onChange:t=>Ne(t.target.value),className:`px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"all",children:"All Status"}),A.map(t=>e.jsx("option",{value:t.name,children:t.value},t.name))]}),e.jsxs("select",{value:p,onChange:t=>we(t.target.value),className:`px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"all",children:"All Services"}),Te.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("select",{value:b,onChange:t=>ye(t.target.value),className:`px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`,children:[e.jsx("option",{value:"all",children:"All Assignments"}),e.jsx("option",{value:"unassigned",children:"Unassigned"}),v.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx("input",{type:"date",value:N,onChange:t=>ve(t.target.value),placeholder:"From",className:`px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500`}),e.jsx("input",{type:"date",value:w,onChange:t=>$e(t.target.value),placeholder:"To",className:`px-3 py-2.5 rounded-lg border ${s?"bg-stone-800 border-stone-700 text-white":"bg-white border-gray-300 text-stone-900"} focus:ring-2 focus:ring-gold-500 col-span-2`})]})]}),o.length>0&&e.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 bg-purple-500 text-white rounded-lg font-bold hover:bg-purple-600 transition-colors w-full sm:w-auto justify-center",children:[e.jsx(Ut,{className:"h-4 sm:h-5 w-4 sm:w-5"}),e.jsxs("span",{className:"text-sm sm:text-base",children:["Bulk Actions (",o.length,")"]})]})]}),e.jsxs("div",{className:`mt-3 sm:mt-4 pt-3 sm:pt-4 border-t ${s?"border-stone-800":"border-gray-200"} flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("p",{className:`text-xs sm:text-sm ${s?"text-stone-400":"text-stone-600"}`,children:["Showing ",d.length," of ",Ye," bookings (Page ",C," of ",P,")"]}),d.length>0&&e.jsx("button",{onClick:Be,className:`text-xs px-3 py-1.5 rounded border ${o.length===d.length?s?"bg-gold-500 border-gold-500 text-stone-900":"bg-gold-500 border-gold-500 text-white":s?"border-stone-700 text-stone-400 hover:bg-stone-800":"border-gray-300 text-stone-600 hover:bg-gray-50"}`,children:o.length===d.length?"Deselect All":"Select All"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Ce(t=>Math.max(1,t-1)),disabled:C===1,className:`p-2 rounded-lg ${s?"bg-stone-800 text-stone-300 disabled:opacity-30":"bg-stone-100 text-stone-700 disabled:opacity-30"}`,children:e.jsx(Ie,{className:"w-4 h-4"})}),e.jsxs("span",{className:`text-sm ${s?"text-stone-300":"text-stone-700"}`,children:[C," / ",P]}),e.jsx("button",{onClick:()=>Ce(t=>Math.min(P,t+1)),disabled:C===P,className:`p-2 rounded-lg ${s?"bg-stone-800 text-stone-300 disabled:opacity-30":"bg-stone-100 text-stone-700 disabled:opacity-30"}`,children:e.jsx(Ue,{className:"w-4 h-4"})})]})]})]}),_?e.jsx("div",{className:"flex items-center justify-center py-12 md:py-16",children:e.jsx(Y,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gold-500 animate-spin"})}):d.length===0?e.jsxs("div",{className:`rounded-lg sm:rounded-xl shadow-sm border p-8 sm:p-12 text-center ${s?"bg-stone-900 border-stone-800":"bg-white border-gray-200"}`,children:[e.jsx(ge,{className:`h-12 sm:h-16 w-12 sm:w-16 mx-auto mb-4 ${s?"text-stone-700":"text-stone-300"}`}),e.jsx("h3",{className:`text-lg sm:text-xl font-bold mb-2 ${s?"text-white":"text-stone-900"}`,children:h?"No pending bookings":g?"No confirmed bookings":"No bookings found"}),e.jsx("p",{className:`text-sm ${s?"text-stone-400":"text-stone-600"}`,children:h?"All booking requests have been processed":g?"No confirmed appointments scheduled":x||u!=="all"||p!=="all"?"Try adjusting your filters or search terms":"No bookings have been made yet"})]}):e.jsxs(e.Fragment,{children:[ne==="list"?e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:`w-full rounded-lg overflow-hidden ${s?"bg-stone-900":"bg-white"} border ${s?"border-stone-800":"border-gray-200"}`,children:[e.jsx("thead",{className:`${s?"bg-stone-800":"bg-gray-50"}`,children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-12 px-4 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:o.length===d.length&&d.length>0,onChange:Be,className:`rounded ${s?"bg-stone-700 border-stone-600":"bg-white border-gray-300"}`})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Client"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Service"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Assigned To"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-stone-200 dark:divide-stone-800",children:d.map(t=>{var n;return e.jsxs("tr",{className:`${s?"hover:bg-stone-800/50":"hover:bg-gray-50"} ${o.includes(t.id)?s?"bg-stone-800":"bg-blue-50":""}`,children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("input",{type:"checkbox",checked:o.includes(t.id),onChange:()=>de(t.id),className:`rounded ${s?"bg-stone-700 border-stone-600":"bg-white border-gray-300"}`})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${s?"text-white":"text-stone-900"}`,children:t.client_name}),e.jsx("div",{className:`text-sm ${s?"text-stone-400":"text-stone-600"}`,children:t.client_email}),e.jsx("div",{className:"text-xs text-stone-500",children:t.client_phone})]})}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("div",{className:`font-medium ${s?"text-stone-300":"text-stone-700"}`,children:t.service_type}),t.location&&e.jsxs("div",{className:"text-xs text-stone-500 flex items-center gap-1",children:[e.jsx(Fe,{className:"w-3 h-3"}),t.location]})]}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("div",{className:`font-medium ${s?"text-stone-300":"text-stone-700"}`,children:Ae(t.preferred_date)}),t.preferred_time&&e.jsxs("div",{className:`text-sm ${s?"text-stone-400":"text-stone-600"}`,children:[e.jsx(Mt,{className:"inline w-3 h-3 mr-1"}),t.preferred_time]})]}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${X(t.status)}`,children:[K(t.status),t.status]})}),e.jsx("td",{className:"px-4 py-4",children:t.assigned_to?e.jsx("div",{className:`text-sm ${s?"text-stone-300":"text-stone-700"}`,children:((n=v.find(l=>l.id===t.assigned_to))==null?void 0:n.name)||"Unknown"}):e.jsx("span",{className:`text-xs px-2 py-1 rounded ${s?"bg-stone-800 text-stone-400":"bg-gray-100 text-gray-600"}`,children:"Unassigned"})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:`text-sm ${s?"text-stone-400":"text-stone-600"}`,children:Ae(t.created_at)})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>J(t),className:`p-2 rounded-lg ${s?"text-stone-400 hover:text-stone-300 hover:bg-stone-800":"text-stone-600 hover:text-stone-900 hover:bg-gray-100"}`,children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ie(t.id,t.client_name),className:`p-2 rounded-lg ${s?"text-red-400 hover:text-red-300 hover:bg-red-900/20":"text-red-600 hover:text-red-800 hover:bg-red-50"}`,children:e.jsx(ee,{className:"w-4 h-4"})})]})})]},t.id)})})]})}):e.jsx("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:d.map(t=>e.jsxs("div",{className:`rounded-xl shadow-sm border p-4 sm:p-6 transition-all hover:shadow-lg ${s?"bg-stone-900 border-stone-800":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:o.includes(t.id),onChange:()=>de(t.id),className:`rounded ${s?"bg-stone-700 border-stone-600":"bg-white border-gray-300"}`}),e.jsx("div",{children:e.jsx("div",{className:`font-bold ${s?"text-white":"text-stone-900"}`,children:t.client_name})})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${X(t.status)}`,children:[K(t.status),t.status]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-4 h-4 text-stone-500"}),e.jsx("span",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:t.client_email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4 text-stone-500"}),e.jsx("span",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:t.client_phone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"w-4 h-4 text-stone-500"}),e.jsx("span",{className:`text-sm ${s?"text-stone-300":"text-stone-600"}`,children:ce(t.preferred_date,t.preferred_time)})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-stone-200 dark:border-stone-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-sm font-medium ${s?"text-stone-300":"text-stone-700"}`,children:t.service_type}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>J(t),className:`p-2 rounded-lg ${s?"text-stone-400 hover:text-stone-300 hover:bg-stone-800":"text-stone-600 hover:text-stone-900 hover:bg-gray-100"}`,children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ie(t.id,t.client_name),className:`p-2 rounded-lg ${s?"text-red-400 hover:text-red-300 hover:bg-red-900/20":"text-red-600 hover:text-red-800 hover:bg-red-50"}`,children:e.jsx(ee,{className:"w-4 h-4"})})]})]})})]},t.id))}),e.jsx("div",{className:"md:hidden space-y-3",children:d.map(t=>{var n;return e.jsxs("button",{onClick:()=>gt(t),className:`w-full ${s?"bg-stone-900 border-stone-800":"bg-white border-gray-200"} rounded-lg border p-4 shadow-sm hover:shadow-md active:scale-[0.98] transition-all text-left min-h-[120px] flex flex-col justify-between`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"checkbox",checked:o.includes(t.id),onChange:l=>{l.stopPropagation(),de(t.id)},onClick:l=>l.stopPropagation(),className:`rounded ${s?"bg-stone-700 border-stone-600":"bg-white border-gray-300"}`}),e.jsx("h3",{className:`text-base font-bold ${s?"text-white":"text-stone-900"} truncate`,children:t.client_name})]}),e.jsx("p",{className:`text-sm ${s?"text-stone-400":"text-stone-500"} mt-0.5`,children:t.service_type})]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${X(t.status)}`,children:[K(t.status),t.status]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-sm ${s?"text-stone-400":"text-stone-600"}`,children:"Date"}),e.jsx("span",{className:`text-sm font-bold ${s?"text-stone-300":"text-stone-700"}`,children:ce(t.preferred_date,t.preferred_time)})]}),t.assigned_to&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-sm ${s?"text-stone-400":"text-stone-600"}`,children:"Assigned"}),e.jsx("span",{className:`text-xs px-2 py-1 ${s?"bg-stone-800 text-stone-300":"bg-stone-100 text-stone-700"} rounded`,children:((n=v.find(l=>l.id===t.assigned_to))==null?void 0:n.name)||"Staff"})]})]})]},t.id)})})]})]})]})}),pt(),bt(),ut(),ft()]})};export{ns as default};
